<script lang="ts">
	import type { HTMLInputAttributes } from 'svelte/elements';

	export interface ToggleProps extends HTMLInputAttributes {
		checked?: boolean;
		value?: any;
		disabled?: boolean;
	}

	// Получаем пропсы через $props()
	let {
		checked = $bindable(),
		disabled = false,
		class: className = '',
		children,
		...restAttributes
	}: ToggleProps = $props();
</script>

<label class="toggle-label">
	<input {...restAttributes} type="checkbox" bind:checked {disabled} class="sr-only" />
	<svg width="92" height="49" viewBox="0 0 92 49" fill="none" xmlns="http://www.w3.org/2000/svg">
		<use href="#thumbrect" id="togglehover" x="50" fill="#E4F1FF" />
		<use href="#thumbrect" id="togglethumb" x="6" fill="#006FFF" />
		<mask id="togglethumbmask">
			<use href="#thumbrect" x="6" fill="white" />
		</mask>
		<use href="#sunmoon" class="mask" fill="white" />
		<use href="#sunmoon" class="mask-inverted" fill="#456B8D" />

		<defs>
			<!-- Форма для ползунка, ховера и маски -->
			<rect id="thumbrect" y="6.74805" width="36" height="36" rx="10" />
			<!-- Иконки sun и moon -->
			<g id="sunmoon">
				<path
					d="M24 12.748C24.2652 12.748 24.5196 12.8534 24.7071 13.0409C24.8946 13.2285 25 13.4828 25 13.748V15.748C25 16.0133 24.8946 16.2676 24.7071 16.4552C24.5196 16.6427 24.2652 16.748 24 16.748C23.7348 16.748 23.4804 16.6427 23.2929 16.4552C23.1054 16.2676 23 16.0133 23 15.748V13.748C23 13.4828 23.1054 13.2285 23.2929 13.0409C23.4804 12.8534 23.7348 12.748 24 12.748ZM12 24.748C12 24.4828 12.1054 24.2285 12.2929 24.0409C12.4804 23.8534 12.7348 23.748 13 23.748H15C15.2652 23.748 15.5196 23.8534 15.7071 24.0409C15.8946 24.2285 16 24.4828 16 24.748C16 25.0133 15.8946 25.2676 15.7071 25.4552C15.5196 25.6427 15.2652 25.748 15 25.748H13C12.7348 25.748 12.4804 25.6427 12.2929 25.4552C12.1054 25.2676 12 25.0133 12 24.748ZM33 23.748C32.7348 23.748 32.4804 23.8534 32.2929 24.0409C32.1054 24.2285 32 24.4828 32 24.748C32 25.0133 32.1054 25.2676 32.2929 25.4552C32.4804 25.6427 32.7348 25.748 33 25.748H35C35.2652 25.748 35.5196 25.6427 35.7071 25.4552C35.8946 25.2676 36 25.0133 36 24.748C36 24.4828 35.8946 24.2285 35.7071 24.0409C35.5196 23.8534 35.2652 23.748 35 23.748H33ZM25 33.748C25 33.4828 24.8946 33.2285 24.7071 33.0409C24.5196 32.8534 24.2652 32.748 24 32.748C23.7348 32.748 23.4804 32.8534 23.2929 33.0409C23.1054 33.2285 23 33.4828 23 33.748V35.748C23 36.0133 23.1054 36.2676 23.2929 36.4552C23.4804 36.6427 23.7348 36.748 24 36.748C24.2652 36.748 24.5196 36.6427 24.7071 36.4552C24.8946 36.2676 25 36.0133 25 35.748V33.748ZM18.343 30.405C18.5305 30.5926 18.6358 30.8469 18.6358 31.112C18.6358 31.3772 18.5305 31.6315 18.343 31.819L16.93 33.233C16.8378 33.3286 16.7274 33.4047 16.6054 33.4571C16.4834 33.5096 16.3522 33.5371 16.2194 33.5383C16.0866 33.5395 15.9549 33.5142 15.832 33.4639C15.7091 33.4136 15.5975 33.3393 15.5036 33.2454C15.4097 33.1515 15.3355 33.0399 15.2852 32.917C15.2349 32.7941 15.2096 32.6624 15.2107 32.5296C15.2119 32.3969 15.2395 32.2656 15.2919 32.1436C15.3443 32.0216 15.4205 31.9113 15.516 31.819L16.93 30.405C17.1175 30.2176 17.3718 30.1123 17.637 30.1123C17.9022 30.1123 18.1555 30.2176 18.343 30.405ZM32.485 16.263C32.6725 16.4506 32.7778 16.7049 32.7778 16.97C32.7778 17.2352 32.6725 17.4895 32.485 17.677L31.071 19.091C30.9788 19.1866 30.8684 19.2627 30.7464 19.3151C30.6244 19.3676 30.4932 19.3951 30.3604 19.3963C30.2276 19.3975 30.0959 19.3721 29.973 19.3219C29.8501 19.2716 29.7385 19.1973 29.6446 19.1034C29.5507 19.0095 29.4765 18.8979 29.4262 18.775C29.3759 18.6521 29.3506 18.5204 29.3517 18.3876C29.3529 18.2549 29.3805 18.1236 29.4329 18.0016C29.4853 17.8796 29.5615 17.7693 29.657 17.677L31.071 16.263C31.2585 16.0756 31.5128 15.9703 31.778 15.9703C32.0432 15.9703 32.2975 16.0756 32.485 16.263ZM15.515 16.263C15.7025 16.0756 15.9568 15.9703 16.222 15.9703C16.4872 15.9703 16.7415 16.0756 16.929 16.263L18.343 17.677C18.4407 17.7687 18.5191 17.8791 18.5733 18.0016C18.6276 18.1241 18.6567 18.2563 18.6588 18.3903C18.661 18.5242 18.6362 18.6573 18.586 18.7815C18.5357 18.9057 18.461 19.0186 18.3663 19.1134C18.2716 19.2081 18.1588 19.2829 18.0346 19.3333C17.9104 19.3836 17.7774 19.4085 17.6434 19.4064C17.5095 19.4043 17.3773 19.3753 17.2547 19.3211C17.1321 19.267 17.0217 19.1887 16.93 19.091L15.515 17.678C15.3275 17.4905 15.2222 17.2362 15.2222 16.971C15.2222 16.7059 15.3275 16.4506 15.515 16.263ZM29.657 30.405C29.8445 30.2176 30.0988 30.1123 30.364 30.1123C30.6292 30.1123 30.8835 30.2176 31.071 30.405L32.485 31.819C32.5805 31.9113 32.6567 32.0216 32.7091 32.1436C32.7615 32.2656 32.7891 32.3969 32.7903 32.5296C32.7914 32.6624 32.7661 32.7941 32.7158 32.917C32.6655 33.0399 32.5913 33.1515 32.4974 33.2454C32.4035 33.3393 32.2919 33.4136 32.169 33.4639C32.0461 33.5142 31.9144 33.5395 31.7816 33.5383C31.6488 33.5371 31.5176 33.5096 31.3956 33.4571C31.2736 33.4047 31.1632 33.3286 31.071 33.233L29.657 31.819C29.4695 31.6315 29.3642 31.3772 29.3642 31.112C29.3642 30.8469 29.4695 30.5926 29.657 30.405ZM17 24.748C17 23.8288 17.1811 22.9185 17.5328 22.0693C17.8846 21.22 18.4002 20.4483 19.0503 19.7983C19.7003 19.1483 20.4719 18.6327 21.3212 18.2809C22.1705 17.9291 23.0807 17.748 24 17.748C24.9193 17.748 25.8295 17.9291 26.6788 18.2809C27.5281 18.6327 28.2997 19.1483 28.9497 19.7983C29.5998 20.4483 30.1154 21.22 30.4672 22.0693C30.8189 22.9185 31 23.8288 31 24.748C31 26.6046 30.2625 28.385 28.9497 29.6978C27.637 31.0105 25.8565 31.748 24 31.748C22.1435 31.748 20.363 31.0105 19.0503 29.6978C17.7375 28.385 17 26.6046 17 24.748Z"
				/>
				<path
					d="M68.4821 38.248C64.7738 38.248 61.2174 36.7749 58.5953 34.1528C55.9731 31.5306 54.5 27.9743 54.5 24.266C54.5 18.6008 57.7544 13.5215 62.7934 11.3284C62.971 11.251 63.1678 11.2288 63.3581 11.2649C63.5485 11.3009 63.7235 11.3935 63.8605 11.5305C63.9975 11.6675 64.0901 11.8425 64.1261 12.0329C64.1622 12.2232 64.14 12.42 64.0626 12.5976C63.4841 13.9259 63.1785 15.6272 63.1785 17.516C63.1785 24.1623 68.5857 29.5695 75.232 29.5695C77.1208 29.5695 78.8222 29.264 80.1505 28.6854C80.328 28.608 80.5248 28.5859 80.7152 28.6219C80.9055 28.658 81.0806 28.7505 81.2176 28.8875C81.3546 29.0245 81.4471 29.1996 81.4832 29.3899C81.5192 29.5803 81.4971 29.777 81.4197 29.9546C79.2266 34.9936 74.1472 38.248 68.4821 38.248Z"
				/></g
			>
		</defs>
	</svg>
</label>

<style lang="scss">
	@use 'styles';
</style>
